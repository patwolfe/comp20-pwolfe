<!DOCTYPE html>
<html>
<head>
	<title>Maps</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href = "style.css"/>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGZZED0x2F9iFS1mm0VyTgLaAqrBRMF54&sensor=true"></script>
	<script>
	console.log("starting javascript");
	var map;
	var request = new XMLHttpRequest(); 
	var lat = 0;
	var lng = 0; 
	var loc = new google.maps.LatLng(lat,lng);
	var options = {
		zoom: 13,
		center: loc,
		mapTypeId: google.maps.MapTypeId.ROADMAP
	};
	var marker;
	var infowindow = new google.maps.InfoWindow();

	function init()
	{
		console.log("init map");
		map = new google.maps.Map(document.getElementById("map"), options); 
		getLocation();
	}

	function getLocation(){
		if (navigator.getLocation) {
			navigator.getLocation.getCurrentPosition(function(position) {
				lat = position.coords.latitude;
				lng = position.coords.longitude; 
				renderMap(); 
			});
		}
		else {
			alert("The browser you are currently using does not support geolocation");
		}
	}

	function renderMap(){
		loc = new google.maps.LatLng(lat, lng);
		map.panTo(me);

		marker = new google.maps.Marker({
			position: loc,
			title: "Your Location"
		});
		marker.setMap(map);

		google.maps.event.addListener(marker, 'click', function() {
			infowindow.setContent(marker.title);
			infowindow.open(map, marker);
		})
	}
</script>

</head>
<body onload = "init()">
<div id="map"></div>
</body>
</html>